{
  "generatedAt": "2025-09-17T19:34:46.521Z",
  "entries": [
    {
      "date": "2025-09-12",
      "title": "v1.0.9",
      "changes": [
        "This release introduces a unified server lifecycle with graceful restarts, enhances security with stricter ZK public key validation and admin role enforcement, adds user dashboard client visibility controls, expands the brochure site with a downloadable whitepaper, and improves test stability with better screenshot artifacts and readiness checks.\n\n## âœ¨ Features\n\n### ğŸš€ Server Lifecycle\n- Unified server lifecycle with createServer and graceful restart capabilities\n- Safe restart after install via restartRequested flag\n\n### ğŸ¨ User Experience\n- Add showOnUserDashboard field for client visibility control in Admin UI\n- Generate Security Whitepaper PDF at build time with download link\n\n### ğŸ“– Documentation Site\n- Add Features, How It Works, and Security pages to brochure site\n- Refine marketing copy, SEO descriptions, and GitHub links\n\n## ğŸ› ï¸ Improvements\n\n### Security Enhancements\n- Reject ZK public key JWKs containing private key components\n- Enforce write admin role for admin mutations\n- Require session token for all admin routes\n- Canonicalize zk_pub handling and kid derivation\n\n### Rate Limiting\n- Scope rate limits per port for better isolation\n- Use dedicated opaque rate-limit bucket for admin OPAQUE\n- Clear rate-limit cache for nested keys\n- Relax opaque limits in development mode\n\n### Installation Flow\n- Allow install OPAQUE start/finish to accept token from config\n- Make install token optional in dev/test environments\n- Refresh install token TTL on expiry\n\n## ğŸ› Fixes\n\n- Return 503 on /api/health until server is initialized or during restart\n- Improve checkbox contrast and hover states in dark/light themes\n\n## ğŸ§ª Tests\n\n- Add user dashboard E2E test coverage\n- Enforce light/dark screenshot generation with required artifacts\n- Use unified createServer lifecycle with proper readiness checks\n- Remove reload-based restart mechanism for better stability\n\n## ğŸ“š Documentation\n\n- Add Security Whitepaper and ZK pub parsing specification\n- Document server lifecycle, restart guarantees, and readiness expectations\n- Update configuration clarity in README\n\n## ğŸ§¹ Chores\n\n- Update dependencies lockfile\n- Remove authorize finalize debug log\n- Multiple changelog data updates for brochure site"
      ],
      "filename": "v1.0.9.md"
    },
    {
      "date": "2025-09-10",
      "title": "v1.0.8",
      "changes": [
        "This release refreshes the Admin Settings experience with an accordion layout and in-place JSON editing, introduces API metadata for settings with seeded descriptions, fixes install token handling during bootstrap, and updates tests and docs accordingly.\n\n## âœ¨ Features\n\n### ğŸ”§ Admin Settings UI\n- Refactor Settings UI into accordion sections with a JSON editor and CSS Modules\n\n### ğŸ§© API Settings Metadata\n- Add settings description field and seed; update services and schema\n\n## ğŸ› Fixes\n\n- Accept install token via query parameter and respect `adminCreated` during install\n\n## ğŸ§ª Tests\n\n- Adjust reload integration to account for Settings changes\n- Bump reload token for test stability\n\n## ğŸ“š Chores\n\n- Update brochure site changelog data\n- Add Settings UI improvements plan and refine release creation steps"
      ],
      "filename": "v1.0.8.md"
    },
    {
      "date": "2025-09-10",
      "title": "v1.0.7",
      "changes": [
        "This release strengthens OPAQUE authentication with enumeration resistance, targeted admin rate limits, and server-bound identity checks. It also gates self-registration behind a setting, hardens the install lifecycle, and adds inline client actions in the Admin UI, alongside broad test stability work and documentation updates.\n\n## âœ¨ Features\n\n### ğŸ”§ Admin UI Enhancements\n- Inline actions on the Clients table with styles moved to CSS\n\n## ğŸ› ï¸ Improvements\n\n### Authentication Hardening\n- Normalize OPAQUE login to avoid account enumeration\n- Bind OPAQUE finish to server session identity for account lookup\n- Rate-limit admin OPAQUE login (start/finish) with a dedicated bucket\n- Harden install lifecycle with initialized checks, token TTL, and single-use tokens\n- Enforce a single bootstrap admin and bind email during install\n\n### Configuration & Behavior\n- Gate self-registration behind a setting and hide signup by default in the User UI\n- Exclude test files from the API TypeScript build\n- Controllerâ€“model separation in the API for simpler data access\n\n## ğŸ› Fixes\n\n- Branding preview iframe behavior\n\n## ğŸ§ª Tests\n\n- Add identity-binding tests for OPAQUE finish (admin and user flows)\n- Add admin OPAQUE login rate-limit coverage and settings toggle verification\n- Add install token lifecycle tests\n- Share and cache admin auth helper (`getAdminBearerToken`) across suites\n- Adjust backoff, retries, and suite isolation for rate-limited paths\n- Multiple stability tweaks and reload token bumps\n\n## ğŸ“š Chores\n\n- Document OPAQUE identity binding, enumeration resistance, and rate limiting\n- Mark phases complete for self-registration gating, admin rate limits, and enumeration hardening\n- Document controllerâ€“model separation and update project guide\n- Update brochure site changelog data and general linting/cleanup"
      ],
      "filename": "v1.0.7.md"
    },
    {
      "date": "2025-09-07",
      "title": "v1.0.6",
      "changes": [
        "This release hardens client security with fragment-only DRK delivery and secure key storage, and introduces a new User Dashboard powered by fresh API endpoints.\n\n## âœ¨ Features\n\n### ğŸ” Fragment-Only DRK Delivery & Client Key Security\n- Require fragment-only delivery of DRK JWE in the client and verify via `zk_drk_hash`\n- Validate `zk_pub` as P-256 JWK in the API and remove persisted `drk_jwe` server-side\n- Add secure export key storage in User UI with async migration and aggressive clearing of sensitive flow data\n\n### ğŸ–¥ï¸ User Dashboard\n- Add User UI dashboard with CSS Modules styling\n- Fetch and display user apps with a new API surface\n- Introduce `/apps` endpoint and client metadata to power the dashboard\n\n## ğŸ› ï¸ Improvements\n\n### Security Headers & Serving\n- Align CSP `frame-ancestors` to `self` and set `X-Frame-Options: SAMEORIGIN`\n- Remove proxy env flags and improve static serving behavior across environments\n\n## ğŸ› Fixes\n\n### Infrastructure & UX\n- Set `Host` header when proxying to the Vite dev server\n- Restore visible success heading after auth to satisfy tests\n- Minor demo app fix\n\n## ğŸ§ª Tests\n\n- Add Admin Users E2E for add/delete\n- Bump reload tokens to stabilize screenshots and flows\n\n## ğŸ“š Chores\n\n### Documentation\n- Clarify zero-knowledge flow and fragment-only DRK delivery in specs\n- Document secure logging requirements and PGlite compatibility\n- Update CSP framing notes in the CORE spec and README screenshot\n\n### Maintenance\n- Docker build/tagging fixes and general linting\n- Update brochure site changelog data and assets\n- Add changelog entry scaffolding for this release"
      ],
      "filename": "v1.0.6.md"
    },
    {
      "date": "2025-09-06",
      "title": "v1.0.5",
      "changes": [
        "This release stabilizes authentication by retaining cookie-based sessions with a new same-origin CSRF guard and adds a richer branding preview with synchronized themes across Admin and User UIs.\n\n## âœ¨ Features\n\n### ğŸ” Session Security & Stability\n- Maintain cookie-based sessions for Admin and User APIs with a same-origin CSRF guard and dedicated unit tests\n- Revert experimental Authorization bearer token approach to preserve compatibility and simplify client integration\n- Clarify session endpoint behavior for login, refresh, and logout\n\n### ğŸ¨ Branding Preview & Theme Sync\n- Add Admin branding preview page and layout with an embedded preview iframe\n- Synchronize theme between Admin preview and the User UI toggle, including support for inherited theme in preview\n\n## ğŸ› ï¸ Improvements\n\n### UX & UI\n- Add slight delay before redirect after health check to fix race condition\n\n### Infrastructure\n- Ignore embedded PGlite data directory in version control\n- Hash screenshot filenames and tighten CSP for dashboard and screenshot pages\n\n### Maintenance\n- Remove dotenv usage in API and demo app; clean imports and example config files\n- Persist brochure site sidebar state in localStorage instead of cookies\n- Normalize changelog generation and related assets/timestamps\n\n## ğŸ› Fixes\n\n### Testing\n- Bump reload tokens to improve screenshot and test stability\n- Align tests with session behavior; set and clear localStorage tokens appropriately\n\n## ğŸ“š Chores\n\n### Documentation\n- Update OIDC ZK extension specification and authentication flow docs\n- Remove legacy logo assets and old changelog generator from brochure site"
      ],
      "filename": "v1.0.5.md"
    },
    {
      "date": "2025-09-06",
      "title": "v1.0.4",
      "changes": [
        "This release delivers production-ready static file serving, enhanced proxy handling, and theme-aware screenshots for better documentation.\n\n## âœ¨ Features\n\n### ğŸš€ Production Static Serving\n- **Unified serving architecture** - Serve Admin and User UIs directly from the API in production\n- **Secure path resolution** - Safe file serving with correct content types and path validation\n- **Enhanced proxy handling** - Robust proxy host resolution with proper CORS handling\n- **Environment-aware behavior** - Smart dev vs. production behavior for both Admin and User servers\n\n### ğŸ¨ Theme System\n- **Theme bootstrapping** - Inject light/dark theme bootstrap via `/config.js` for flicker-free initial renders\n- **Theme-aware screenshots** - Added light/dark theme screenshots with in-site viewer\n- **Visual testing** - Light/dark screenshot runs with configurable color schemes\n\n### ğŸ“¦ Changelog Distribution\n- **Centralized changelog hosting** - Admin UI fetches changelog from `darkauth.com`\n- **Automated generation** - Generate changelog JSON via dedicated script\n- **Removed local routes** - Eliminated local dev/build changelog routes for cleaner architecture\n\n## ğŸ› ï¸ Improvements\n\n### Infrastructure\n- **OpenAPI stability** - Moved `zod-to-openapi` to runtime dependencies for reliable document generation\n- **Docker enhancements** - Include changelog in image, run API with pm2, properly copy Drizzle directory\n- **CI/CD improvements** - Added screenshot build step with pipeline optimizations\n\n## ğŸ“š Chores\n\n### Documentation\n- Clarified changelog hosting architecture and Admin UI data sources\n- Dropped changelog plugin from brochure site in favor of generated JSON\n\n### Test Suite\n- Enhanced test stability with bumped reload tokens\n- Refined screenshot scripts and ignored generated artifacts\n\n### Maintenance\n- Fixed changelog generation and formatting scripts\n- General tooling improvements and cleanup"
      ],
      "filename": "v1.0.4.md"
    },
    {
      "date": "2025-09-06",
      "title": "v1.0.3",
      "changes": [
        "This release introduces embedded database support for simplified deployments and enhances the mobile experience with responsive navigation.\n\n## âœ¨ Features\n\n### ğŸ—„ï¸ Embedded PGlite Storage\n- **Zero-configuration database** - Added embedded PGlite storage option for local and lightweight deployments\n- **Flexible storage options** - Maintains full external Postgres support while offering embedded mode for quick starts\n- **Simplified deployment** - Perfect for constrained environments and development setups\n- **Streamlined installation** - Updated install flow to reflect new storage options with clearer guidance\n\n### ğŸ“± Mobile Experience\n- **Responsive navigation** - Added burger menu to brochure site header using sheet component\n- **Improved mobile layouts** - Widened changelog and legal content areas with adjusted padding\n- **Better responsiveness** - Enhanced page layouts for optimal viewing on all device sizes\n\n## ğŸ› Fixes\n\n### Infrastructure\n- **Docker configuration** - Fixed Dockerfile and updated example configuration to align with current setup\n- **Content updates** - Removed pricing and commercial wording from public-facing copy\n\n### Testing\n- **Test alignment** - Updated tests to match revised install and audit flows\n- **Test data management** - Removed generated test data and properly ignored in version control\n\n## ğŸ› ï¸ Improvements\n\n### CI/CD\n- **Release synchronization** - Pull GitHub releases before building Docker admin-ui image for synced metadata\n\n## ğŸ“š Chores\n\n### Documentation\n- Added comprehensive notes for using embedded PGlite storage\n- Expanded client README with usage and setup guidance\n- Refreshed internal agent guidance documentation\n- Removed obsolete refactor plans\n\n### Maintenance\n- Updated tooling configurations and lockfile\n- Minor code tidy-ups and formatting improvements"
      ],
      "filename": "v1.0.3.md"
    },
    {
      "date": "2025-09-04",
      "title": "v1.0.2",
      "changes": [
        "This release delivers a comprehensive branding system allowing full customization of the platform's appearance, including logos, colors, fonts, and custom CSS.\n\n## âœ¨ Features\n\n### ğŸ¨ Complete Branding System\n- **Admin branding control center** - New Branding page with live preview for logos, colors, fonts, wording, and custom CSS\n- **Real-time preview** - Multi-entry Vite preview route to validate changes before publishing\n- **API-driven branding** - Branding service with seeded defaults and REST endpoints for reading/updating settings\n- **Universal injection** - Branding configuration injected into `__APP_CONFIG__` for both Admin and User UIs\n- **Asset management** - Serves logo, favicon, and custom CSS with proper sanitization\n\n### ğŸ¯ User UI Theming\n- **Branded auth screens** - Auth flows read branding via hooks for texts and styles\n- **Consistent styling** - CSS variables applied uniformly across all components\n- **Unified login experience** - Transformed `LoginView` into a functional `Login` component within brandable shell\n\n## ğŸ› ï¸ Improvements\n\n### User Experience\n- **Polished auth flows** - Refreshed styles for login/register/change password with improved layouts\n- **Better UX controls** - Improved action placement and sign-out controls with dark theme consistency\n\n### Admin Interface\n- **Streamlined installation** - Enhanced install flow with clearer steps and improved copy\n- **Better changelog display** - Improved rendering with clearer headers and spacing\n\n## ğŸ› Fixes\n\n### Build & Deployment\n- **Docker build fix** - Replaced workspace protocol with file link for `@DarkAuth/user-ui` to fix `npm ci` in Docker\n- **Configuration updates** - Enabled proxy UI in configuration where applicable\n\n## ğŸ“š Chores\n\n### Documentation & Maintenance\n- Added v1.0.1 changelog and normalized v1.0.0 formatting\n- Default new release entries to `reviewed: false`\n- Relaxed lint rules in `opaque-ts` and removed inline disables\n- Ignored local `.serena` workspace directory with minor formatting tweaks"
      ],
      "filename": "v1.0.2.md"
    },
    {
      "date": "2025-09-03",
      "title": "v1.0.1",
      "changes": [
        "This release introduces automated release management with GitHub synchronization and improved CI/CD workflows for Docker image management.\n\n## âœ¨ Features\n\n### ğŸ“¦ Release Automation\n- **GitHub release synchronization** - Pull and push releases with `scripts/pull-github-releases.sh` and `scripts/push-github-releases.sh`\n- **Robust error handling** - Better `gh` CLI error handling and simpler header normalization\n- **Automatic sync from GitHub** - Pull script now always overwrites from GitHub and strips stray front-matter separators\n\n### ğŸ³ CI/CD Enhancements\n- **Automated Docker tagging** - New workflow to retag Docker images on GitHub release\n- **Smart version management** - Skips prereleases and updates `latest` tag only for stable releases\n\n## ğŸ› ï¸ Improvements\n\n### UI Enhancements\n- **Improved changelog rendering** - Refined Admin UI and brochure site changelog display with clearer headers, bullets, and spacing\n- **Consistent formatting** - Ensures readable, uniform formatting across all changelog entries\n\n## ğŸ“š Chores\n\n### Repository Maintenance\n- Ignored Playwright test screenshots in version control\n- Removed previously tracked test artifacts\n- Normalized `v1.0.0` changelog metadata and formatting for consistency"
      ],
      "filename": "v1.0.1.md"
    },
    {
      "date": "2025-09-03",
      "title": "v1.0.0",
      "changes": [
        "This major release establishes the foundation with runtime configuration, comprehensive testing infrastructure, and developer experience improvements.\r\n\r\n## âœ¨ Features\r\n\r\n### ğŸŒ Public Runtime Configuration\r\n- **Dynamic environment configuration** - Admin UI and User UI now support runtime configuration with shims and Vite optimizations\r\n- **Zero-rebuild deployments** - Switch between environments without rebuilding applications\r\n- **Enhanced deployment flexibility** - Seamlessly deploy across different environments with environment-specific settings\r\n\r\n### ğŸ­ Playwright Test Suite Migration\r\n- **Complete test infrastructure overhaul** - Migrated entire test suite to Playwright for better reliability\r\n- **Comprehensive test coverage** - Added dedicated admin/user test specifications with environment setup helpers\r\n- **Streamlined testing approach** - Replaced fragmented unit/integration tests with robust end-to-end coverage\r\n\r\n### ğŸ”§ Developer Experience\r\n- **Unified workspace configuration** - Standardized on `config.yaml` throughout the workspace\r\n- **Consistent project structure** - Aligned workspace scripts and `.gitignore` configurations\r\n- **Simplified local development** - Streamlined development and CI workflows with unified configuration\r\n\r\n## ğŸ› ï¸ Improvements\r\n\r\n### API Enhancements\r\n- Added migration `0002` with updated Drizzle metadata\r\n- Refined controllers, context creation, and OPAQUE wrapper\r\n- Improved service wiring and dependency injection\r\n\r\n## ğŸ“š Chores\r\n\r\n### Documentation\r\n- Restructured development guides under `specs/` directory (Code Guide, Core docs, Testing Architecture)\r\n- Enhanced `config.yaml` workflow documentation\r\n- Simplified development scripts and refined changelog refactor instructions"
      ],
      "filename": "v1.0.0.md"
    }
  ]
}