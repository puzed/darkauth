date: 2025-09-12
title: v1.0.9
commits: 8d24633
reviewed: true
---

This release introduces a unified server lifecycle with graceful restarts, enhances security with stricter ZK public key validation and admin role enforcement, adds user dashboard client visibility controls, expands the brochure site with a downloadable whitepaper, and improves test stability with better screenshot artifacts and readiness checks.

## ✨ Features

### 🚀 Server Lifecycle
- Unified server lifecycle with createServer and graceful restart capabilities
- Safe restart after install via restartRequested flag

### 🎨 User Experience
- Add showOnUserDashboard field for client visibility control in Admin UI
- Generate Security Whitepaper PDF at build time with download link

### 📖 Documentation Site
- Add Features, How It Works, and Security pages to brochure site
- Refine marketing copy, SEO descriptions, and GitHub links

## 🛠️ Improvements

### Security Enhancements
- Reject ZK public key JWKs containing private key components
- Enforce write admin role for admin mutations
- Require session token for all admin routes
- Canonicalize zk_pub handling and kid derivation

### Rate Limiting
- Scope rate limits per port for better isolation
- Use dedicated opaque rate-limit bucket for admin OPAQUE
- Clear rate-limit cache for nested keys
- Relax opaque limits in development mode

### Installation Flow
- Allow install OPAQUE start/finish to accept token from config
- Make install token optional in dev/test environments
- Refresh install token TTL on expiry

## 🐛 Fixes

- Return 503 on /api/health until server is initialized or during restart
- Improve checkbox contrast and hover states in dark/light themes

## 🧪 Tests

- Add user dashboard E2E test coverage
- Enforce light/dark screenshot generation with required artifacts
- Use unified createServer lifecycle with proper readiness checks
- Remove reload-based restart mechanism for better stability

## 📚 Documentation

- Add Security Whitepaper and ZK pub parsing specification
- Document server lifecycle, restart guarantees, and readiness expectations
- Update configuration clarity in README

## 🧹 Chores

- Update dependencies lockfile
- Remove authorize finalize debug log
- Multiple changelog data updates for brochure site